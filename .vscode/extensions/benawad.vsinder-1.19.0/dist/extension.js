module.exports=(()=>{var e={767:e=>{e.exports=function(e){let t=e.url;if(void 0===t)return t;let n=e._parsedUrl;if(n&&n._raw===t)return n;n={},n.query=n.search=null,n.href=n.path=n.pathname=t;let r=t.indexOf("?",1);return-1!==r&&(n.search=t.substring(r),n.query=n.search.substring(1),n.pathname=t.substring(0,r)),n._raw=t,e._parsedUrl=n}},576:(e,t,n)=>{"use strict";function r(e,t){for(var n=0,r=e.length;n<r;n++)if(!t(e[n],n,e))return!1;return!0}n.r(t),n.d(t,{exec:()=>u,match:()=>c,parse:()=>l});const o="/";function i(e){if(e===o)return e;47===e.charCodeAt(0)&&(e=e.substring(1));var t=e.length-1;return 47===e.charCodeAt(t)?e.substring(0,t):e}function s(e){return(e=i(e))===o?[o]:e.split(o)}function a(e,t,n){return n=e[n],t.val===n&&0===t.type||(n===o?t.type>1:0!==t.type&&(n||"").endsWith(t.end))}function c(e,t){for(var n,o,i=0,c=s(e),l=c.length,u=a.bind(a,c);i<t.length;i++)if(((o=(n=t[i]).length)===l||o<l&&2===n[o-1].type||o>l&&3===n[o-1].type)&&r(n,u))return n;return[]}function l(e){if(e===o)return[{old:e,type:0,val:e,end:""}];for(var t,n,r,s,a=i(e),c=-1,l=0,u=a.length,d=[];++c<u;)if(58!==(t=a.charCodeAt(c)))if(42!==t){for(l=c;c<u&&47!==a.charCodeAt(c);)++c;d.push({old:e,type:0,val:a.substring(l,c),end:""}),a=a.substring(c),u-=c,c=l=0}else d.push({old:e,type:2,val:a.substring(c),end:""});else{for(l=c+1,r=1,n=0,s="";c<u&&47!==a.charCodeAt(c);)63===(t=a.charCodeAt(c))?(n=c,r=3):46===t&&0===s.length&&(s=a.substring(n=c)),c++;d.push({old:e,type:r,val:a.substring(l,n||c),end:s}),a=a.substring(c),u-=c,c=0}return d}function u(e,t){for(var n,r,i=0,a=s(e),c={};i<t.length;i++)n=a[i],r=t[i],n!==o&&void 0!==n&&!1|r.type&&(c[r.val]=n.replace(r.end,""));return c}},267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FetchError:()=>h,Headers:()=>U,Request:()=>F,Response:()=>R,default:()=>J});const r=require("stream");var o=n(605);const i=require("url"),s=require("https"),a=require("zlib"),c=r.Readable,l=Symbol("buffer"),u=Symbol("type");class d{constructor(){this[u]="";const e=arguments[0],t=arguments[1],n=[];let r=0;if(e){const t=e,o=Number(t.length);for(let e=0;e<o;e++){const o=t[e];let i;i=o instanceof Buffer?o:ArrayBuffer.isView(o)?Buffer.from(o.buffer,o.byteOffset,o.byteLength):o instanceof ArrayBuffer?Buffer.from(o):o instanceof d?o[l]:Buffer.from("string"==typeof o?o:String(o)),r+=i.length,n.push(i)}}this[l]=Buffer.concat(n);let o=t&&void 0!==t.type&&String(t.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[u]=o)}get size(){return this[l].length}get type(){return this[u]}text(){return Promise.resolve(this[l].toString())}arrayBuffer(){const e=this[l],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new c;return e._read=function(){},e.push(this[l]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],n=arguments[1];let r,o;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),o=void 0===n?e:n<0?Math.max(e+n,0):Math.min(n,e);const i=Math.max(o-r,0),s=this[l].slice(r,r+i),a=new d([],{type:arguments[2]});return a[l]=s,a}}function h(e,t,n){Error.call(this,e),this.message=e,this.type=t,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}let p;Object.defineProperties(d.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(d.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="FetchError";try{p=require("encoding").convert}catch(e){}const f=Symbol("Body internals"),y=r.PassThrough;function b(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.size;let i=void 0===o?0:o;var s=n.timeout;let a=void 0===s?0:s;null==e?e=null:g(e)?e=Buffer.from(e.toString()):v(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof r||(e=Buffer.from(String(e)))),this[f]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=a,e instanceof r&&e.on("error",(function(e){const n="AbortError"===e.name?e:new h(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[f].error=n}))}function m(){var e=this;if(this[f].disturbed)return b.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[f].disturbed=!0,this[f].error)return b.Promise.reject(this[f].error);let t=this.body;if(null===t)return b.Promise.resolve(Buffer.alloc(0));if(v(t)&&(t=t.stream()),Buffer.isBuffer(t))return b.Promise.resolve(t);if(!(t instanceof r))return b.Promise.resolve(Buffer.alloc(0));let n=[],o=0,i=!1;return new b.Promise((function(r,s){let a;e.timeout&&(a=setTimeout((function(){i=!0,s(new h(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(i=!0,s(t)):s(new h(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!i&&null!==t){if(e.size&&o+t.length>e.size)return i=!0,void s(new h(`content size at ${e.url} over limit: ${e.size}`,"max-size"));o+=t.length,n.push(t)}})),t.on("end",(function(){if(!i){clearTimeout(a);try{r(Buffer.concat(n,o))}catch(t){s(new h(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function g(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function v(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function w(e){let t,n,o=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof r&&"function"!=typeof o.getBoundary&&(t=new y,n=new y,o.pipe(t),o.pipe(n),e[f].body=t,o=n),o}function _(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":g(e)?"application/x-www-form-urlencoded;charset=UTF-8":v(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof r?null:"text/plain;charset=UTF-8"}function S(e){const t=e.body;return null===t?0:v(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}b.prototype={get body(){return this[f].body},get bodyUsed(){return this[f].disturbed},arrayBuffer(){return m.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return m.call(this).then((function(t){return Object.assign(new d([],{type:e.toLowerCase()}),{[l]:t})}))},json(){var e=this;return m.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return b.Promise.reject(new h(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return m.call(this).then((function(e){return e.toString()}))},buffer(){return m.call(this)},textConverted(){var e=this;return m.call(this).then((function(t){return function(e,t){if("function"!=typeof p)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=t.get("content-type");let r,o,i="utf-8";return n&&(r=/charset=([^;]*)/i.exec(n)),o=e.slice(0,1024).toString(),!r&&o&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(o)),!r&&o&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),r||(r=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o),r&&r.pop()),r&&(r=/charset=(.*)/i.exec(r.pop()))),!r&&o&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o)),r&&(i=r.pop(),"gb2312"!==i&&"gbk"!==i||(i="gb18030")),p(e,"UTF-8",i).toString()}(t,e.headers)}))}},Object.defineProperties(b.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),b.mixIn=function(e){for(const t of Object.getOwnPropertyNames(b.prototype))if(!(t in e)){const n=Object.getOwnPropertyDescriptor(b.prototype,t);Object.defineProperty(e,t,n)}},b.Promise=global.Promise;const P=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,k=/[^\t\x20-\x7e\x80-\xff]/;function T(e){if(e=`${e}`,P.test(e)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)}function j(e){if(e=`${e}`,k.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function x(e,t){t=t.toLowerCase();for(const n in e)if(n.toLowerCase()===t)return n}const O=Symbol("map");class U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[O]=Object.create(null),e instanceof U){const t=e.raw(),n=Object.keys(t);for(const e of n)for(const n of t[e])this.append(e,n)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const n=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(t))}for(const e of n){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const n=e[t];this.append(t,n)}}}}get(e){T(e=`${e}`);const t=x(this[O],e);return void 0===t?null:this[O][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=E(this),r=0;for(;r<n.length;){var o=n[r];const i=o[0],s=o[1];e.call(t,s,i,this),n=E(this),r++}}set(e,t){t=`${t}`,T(e=`${e}`),j(t);const n=x(this[O],e);this[O][void 0!==n?n:e]=[t]}append(e,t){t=`${t}`,T(e=`${e}`),j(t);const n=x(this[O],e);void 0!==n?this[O][n].push(t):this[O][e]=[t]}has(e){return T(e=`${e}`),void 0!==x(this[O],e)}delete(e){T(e=`${e}`);const t=x(this[O],e);void 0!==t&&delete this[O][t]}raw(){return this[O]}keys(){return M(this,"key")}values(){return M(this,"value")}[Symbol.iterator](){return M(this,"key+value")}}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const n=Object.keys(e[O]).sort();return n.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[O][t].join(", ")}:function(t){return[t.toLowerCase(),e[O][t].join(", ")]})}U.prototype.entries=U.prototype[Symbol.iterator],Object.defineProperty(U.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(U.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const $=Symbol("internal");function M(e,t){const n=Object.create(C);return n[$]={target:e,kind:t,index:0},n}const C=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==C)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[$];const t=e.target,n=e.kind,r=e.index,o=E(t,n);return r>=o.length?{value:void 0,done:!0}:(this[$].index=r+1,{value:o[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function B(e){const t=Object.assign({__proto__:null},e[O]),n=x(e[O],"Host");return void 0!==n&&(t[n]=t[n][0]),t}Object.defineProperty(C,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const A=Symbol("Response internals"),I=o.STATUS_CODES;class R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b.call(this,e,t);const n=t.status||200,r=new U(t.headers);if(null!=e&&!r.has("Content-Type")){const t=_(e);t&&r.append("Content-Type",t)}this[A]={url:t.url,status:n,statusText:t.statusText||I[n],headers:r,counter:t.counter}}get url(){return this[A].url||""}get status(){return this[A].status}get ok(){return this[A].status>=200&&this[A].status<300}get redirected(){return this[A].counter>0}get statusText(){return this[A].statusText}get headers(){return this[A].headers}clone(){return new R(w(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}b.mixIn(R.prototype),Object.defineProperties(R.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(R.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const q=Symbol("Request internals"),N=i.parse,L=i.format,D="destroy"in r.Readable.prototype;function z(e){return"object"==typeof e&&"object"==typeof e[q]}class F{constructor(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z(e)?t=N(e.url):(t=e&&e.href?N(e.href):N(`${e}`),e={});let r=n.method||e.method||"GET";if(r=r.toUpperCase(),(null!=n.body||z(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let o=null!=n.body?n.body:z(e)&&null!==e.body?w(e):null;b.call(this,o,{timeout:n.timeout||e.timeout||0,size:n.size||e.size||0});const i=new U(n.headers||e.headers||{});if(null!=o&&!i.has("Content-Type")){const e=_(o);e&&i.append("Content-Type",e)}let s=z(e)?e.signal:null;if("signal"in n&&(s=n.signal),null!=s&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[q]={method:r,redirect:n.redirect||e.redirect||"follow",headers:i,parsedURL:t,signal:s},this.follow=void 0!==n.follow?n.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===e.compress||e.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent}get method(){return this[q].method}get url(){return L(this[q].parsedURL)}get headers(){return this[q].headers}get redirect(){return this[q].redirect}get signal(){return this[q].signal}clone(){return new F(this)}}function H(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}b.mixIn(F.prototype),Object.defineProperty(F.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(F.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H.prototype.name="AbortError";const K=r.PassThrough,W=i.resolve;function V(e,t){if(!V.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return b.Promise=V.Promise,new V.Promise((function(n,i){const c=new F(e,t),l=function(e){const t=e[q].parsedURL,n=new U(e[q].headers);if(n.has("Accept")||n.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof r.Readable&&!D)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let o=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(o="0"),null!=e.body){const t=S(e);"number"==typeof t&&(o=String(t))}o&&n.set("Content-Length",o),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let i=e.agent;return"function"==typeof i&&(i=i(t)),n.has("Connection")||i||n.set("Connection","close"),Object.assign({},t,{method:e.method,headers:B(n),agent:i})}(c),u=("https:"===l.protocol?s:o).request,d=c.signal;let p=null;const f=function(){let e=new H("The user aborted a request.");i(e),c.body&&c.body instanceof r.Readable&&c.body.destroy(e),p&&p.body&&p.body.emit("error",e)};if(d&&d.aborted)return void f();const y=function(){f(),g()},b=u(l);let m;function g(){b.abort(),d&&d.removeEventListener("abort",y),clearTimeout(m)}d&&d.addEventListener("abort",y),c.timeout&&b.once("socket",(function(e){m=setTimeout((function(){i(new h(`network timeout at: ${c.url}`,"request-timeout")),g()}),c.timeout)})),b.on("error",(function(e){i(new h(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),g()})),b.on("response",(function(e){clearTimeout(m);const t=function(e){const t=new U;for(const n of Object.keys(e))if(!P.test(n))if(Array.isArray(e[n]))for(const r of e[n])k.test(r)||(void 0===t[O][n]?t[O][n]=[r]:t[O][n].push(r));else k.test(e[n])||(t[O][n]=[e[n]]);return t}(e.headers);if(V.isRedirect(e.statusCode)){const r=t.get("Location"),o=null===r?null:W(c.url,r);switch(c.redirect){case"error":return i(new h(`uri requested responds with a redirect, redirect mode is set to error: ${c.url}`,"no-redirect")),void g();case"manual":if(null!==o)try{t.set("Location",o)}catch(e){i(e)}break;case"follow":if(null===o)break;if(c.counter>=c.follow)return i(new h(`maximum redirect reached at: ${c.url}`,"max-redirect")),void g();const r={headers:new U(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout,size:c.size};return 303!==e.statusCode&&c.body&&null===S(c)?(i(new h("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void g()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==c.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),n(V(new F(o,r))),void g())}}e.once("end",(function(){d&&d.removeEventListener("abort",y)}));let r=e.pipe(new K);const o={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout,counter:c.counter},s=t.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===s||204===e.statusCode||304===e.statusCode)return p=new R(r,o),void n(p);const l={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return r=r.pipe(a.createGunzip(l)),p=new R(r,o),void n(p);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof a.createBrotliDecompress)return r=r.pipe(a.createBrotliDecompress()),p=new R(r,o),void n(p);p=new R(r,o),n(p)}else e.pipe(new K).once("data",(function(e){r=8==(15&e[0])?r.pipe(a.createInflate()):r.pipe(a.createInflateRaw()),p=new R(r,o),n(p)}))})),function(e,t){const n=t.body;null===n?e.end():v(n)?n.stream().pipe(e):Buffer.isBuffer(n)?(e.write(n),e.end()):n.pipe(e)}(b,c)}))}V.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},V.Promise=global.Promise;const J=V},266:(e,t,n)=>{const r=n(605),o=n(160),{parse:i}=n(191),s=n(767);function a(e){return 47===e.charCodeAt(0)?e:"/"+e}function c(e){let t=e.indexOf("/",1);return t>1?e.substring(0,t):e}function l(e,t){t.url=t.url.substring(e.length)||"/",t.path=t.path.substring(e.length)||"/"}function u(e,t,n,o){let i=n.statusCode=e.code||e.status||500;n.end(e.length&&e||e.message||r.STATUS_CODES[i])}class d extends o{constructor(e={}){super(e),this.apps={},this.wares=[],this.bwares={},this.parse=s,this.server=e.server,this.handler=this.handler.bind(this),this.onError=e.onError||u,this.onNoMatch=e.onNoMatch||this.onError.bind(null,{code:404})}add(e,t,...n){let r=a(c(t));if(void 0!==this.apps[r])throw new Error(`Cannot mount ".${e.toLowerCase()}('${a(t)}')" because a Polka application at ".use('${r}')" already exists! You should move this handler into your Polka application instead.`);return super.add(e,t,...n)}use(e,...t){return"function"==typeof e?this.wares=this.wares.concat(e,t):"/"===e?this.wares=this.wares.concat(t):(e=a(e),t.forEach((t=>{if(t instanceof d)this.apps[e]=t;else{let n=this.bwares[e]||[];n.length>0||n.push(((t,n,r)=>(l(e,t),r()))),this.bwares[e]=n.concat(t)}}))),this}listen(){return(this.server=this.server||r.createServer()).on("request",this.handler),this.server.listen.apply(this.server,arguments),this}handler(e,t,n){n=n||this.parse(e);let r=[],o=this.wares,s=this.find(e.method,n.pathname);e.originalUrl=e.originalUrl||e.url;let a=c(e.path=n.pathname);void 0!==this.bwares[a]&&(o=o.concat(this.bwares[a])),s?(r=s.handlers,e.params=s.params):void 0!==this.apps[a]?(l(a,e),n.pathname=e.path,r.push(this.apps[a].handler.bind(null,e,t,n))):0===r.length&&r.push(this.onNoMatch),e.search=n.search,e.query=i(n.query);let u=0,d=o.length,h=r.length;if(d===u&&1===h)return r[0](e,t);let p=n=>n?this.onError(n,e,t,p):f(),f=n=>t.finished||u<d&&o[u++](e,t,p);o=o.concat(r),d+=h,f()}}e.exports=e=>new d(e)},160:(e,t,n)=>{const{exec:r,match:o,parse:i}=n(576);e.exports=class{constructor(e){this.opts=e||{},this.routes={},this.handlers={},this.all=this.add.bind(this,"*"),this.get=this.add.bind(this,"GET"),this.head=this.add.bind(this,"HEAD"),this.patch=this.add.bind(this,"PATCH"),this.options=this.add.bind(this,"OPTIONS"),this.connect=this.add.bind(this,"CONNECT"),this.delete=this.add.bind(this,"DELETE"),this.trace=this.add.bind(this,"TRACE"),this.post=this.add.bind(this,"POST"),this.put=this.add.bind(this,"PUT")}add(e,t,...n){return void 0===this.routes[e]&&(this.routes[e]=[]),this.routes[e].push(i(t)),void 0===this.handlers[e]&&(this.handlers[e]={}),this.handlers[e][t]=n,this}find(e,t){let n=o(t,this.routes[e]||[]);return!(0===n.length&&(n=o(t,this.routes[e="*"]||[]),!n.length))&&{params:r(t,n),handlers:this.handlers[e][n[0].old]}}}},885:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlairProvider=t.flairMap=void 0,t.flairMap={kubernetes:"kubernetes.png",python:"python.png",flutter:"flutter.png",angular:"angular.png",cpp:"cpp.png",haskell:"haskell.png",java:"java.png",rust:"rust.png",vue:"vue.png",javascript:"javascript.png",go:"go.png",cSharp:"cSharp.png",html:"html.png",swift:"swift.png",react:"react.png",kafka:"kafka.png",c:"c.png",typescript:"typescript.png",css:"css.png",dart:"dart.png",svelte:"svelte.png",kotlin:"kotlin.png",ruby:"ruby.png",tailwindcss:"tailwindcss.png",ionic:"ionic.png",bash:"bash.png",php:"php.png"};class n{static getJavascriptMapString(){return this.javascriptMapString?this.javascriptMapString:`\n      const flairMap = {\n        ${Object.entries(t.flairMap).map((([e,t])=>`"${e}": "https://flair.benawad.com/${t}"`))}\n      }\n      `}}t.FlairProvider=n,n.javascriptMapString=""},441:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarProvider=void 0;const a=i(n(549)),c=n(326),l=n(601),u=n(885),d=n(686),h=n(353),p=n(839),f=n(212),y=n(102),b=n(190);t.SidebarProvider=class{constructor(e){this._extensionUri=e}resolveWebviewView(e){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage((t=>s(this,void 0,void 0,(function*(){switch(t.type){case"report":{const n=yield a.window.showInputBox({placeHolder:"why are you reporting this user?"});n&&(yield h.mutationNoErr("/report",Object.assign({message:n},t.value)),e.webview.postMessage({command:"report-done",data:t}),a.window.showInformationMessage("Thank you for reporting!"));break}case"send-tokens":e.webview.postMessage({command:"init-tokens",payload:{accessToken:y.Util.getAccessToken(),refreshToken:y.Util.getRefreshToken()}});break;case"logout":yield y.Util.globalState.update(l.accessTokenKey,""),yield y.Util.globalState.update(l.refreshTokenKey,""),f.SwiperPanel.kill(),b.ViewCodeCardPanel.kill();break;case"delete-account":if("yes"===(yield a.window.showInformationMessage("Are you sure you want to delete your account?","yes","no")))try{yield h.mutation("/account/delete",{}),yield y.Util.globalState.update(l.accessTokenKey,""),yield y.Util.globalState.update(l.refreshTokenKey,""),e.webview.postMessage({command:"account-deleted",payload:{}}),a.window.showInformationMessage("successfully deleted"),f.SwiperPanel.kill(),b.ViewCodeCardPanel.kill()}catch(e){}break;case"show-snippet-status":p.SnippetStatus.show();break;case"hide-snippet-status":p.SnippetStatus.hide();break;case"view-code-card":b.ViewCodeCardPanel.createOrShow(this._extensionUri,t.value);break;case"start-swiping":f.SwiperPanel.createOrShow(this._extensionUri);break;case"login":c.authenticate((t=>{e.webview.postMessage({command:"login-complete",payload:t})}));break;case"onInfo":if(!t.value)return;a.window.showInformationMessage(t.value);break;case"onError":if(!t.value)return;a.window.showErrorMessage(t.value);break;case"tokens":yield y.Util.globalState.update(l.accessTokenKey,t.accessToken),yield y.Util.globalState.update(l.refreshTokenKey,t.refreshToken)}}))))}revive(e){this._view=e}_getHtmlForWebview(e){const t=e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","reset.css")),n=e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"out","compiled/sidebar.js")),r=e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"out","compiled/sidebar.css")),o=e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","vscode.css")),i=d.getNonce();return`<!DOCTYPE html>\n\t\t\t<html lang="en">\n\t\t\t<head>\n\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\x3c!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n        --\x3e\n        <meta http-equiv="Content-Security-Policy" content="default-src ${l.apiBaseUrl.includes("https")?l.apiBaseUrl.replace("https","wss"):l.apiBaseUrl.replace("http","ws")} ${l.apiBaseUrl} https://x9lecdo5aj.execute-api.us-east-1.amazonaws.com; img-src https: data:; style-src 'unsafe-inline' ${e.cspSource}; script-src 'nonce-${i}';">\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t<link href="${t}" rel="stylesheet">\n\t\t\t\t<link href="${o}" rel="stylesheet">\n        <link href="${r}" rel="stylesheet">\n        <script nonce="${i}">\n            const apiBaseUrl = ${JSON.stringify(l.apiBaseUrl)};\n            const tsvscode = acquireVsCodeApi();\n            let accessToken = ${JSON.stringify(y.Util.getAccessToken())};\n            let refreshToken = ${JSON.stringify(y.Util.getRefreshToken())};\n            ${u.FlairProvider.getJavascriptMapString()}\n        <\/script>\n\t\t\t</head>\n      <body>\n\t\t\t\t<script nonce="${i}" src="${n}"><\/script>\n\t\t\t</body>\n\t\t\t</html>`}}},839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SnippetStatus=void 0;const r=n(549);class o{constructor(){this.item=r.window.createStatusBarItem(r.StatusBarAlignment.Right),this.item.text="$(file-code) VSinder Snippet",this.item.command="vsinder.addCodeToProfile"}}t.SnippetStatus=o,o.show=()=>{o.snippetStatus.item.show()},o.hide=()=>{o.snippetStatus.item.hide()},o.createSnippetStatus=()=>{o.snippetStatus||(o.snippetStatus=new o)}},212:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SwiperPanel=void 0;const a=i(n(549)),c=n(601),l=n(885),u=n(686),d=n(353),h=n(102);class p{constructor(e,t){this._disposables=[],this._panel=e,this._extensionUri=t,this._update(),this._panel.onDidDispose((()=>this.dispose()),null,this._disposables)}static createOrShow(e){const t=a.window.activeTextEditor?a.window.activeTextEditor.viewColumn:void 0;if(p.currentPanel)return p.currentPanel._panel.reveal(t),void p.currentPanel._update();const n=a.window.createWebviewPanel(p.viewType,"VSinder",t||a.ViewColumn.One,{enableScripts:!0,localResourceRoots:[a.Uri.joinPath(e,"media"),a.Uri.joinPath(e,"out/compiled")]});p.currentPanel=new p(n,e)}static kill(){var e;null===(e=p.currentPanel)||void 0===e||e.dispose(),p.currentPanel=void 0}static revive(e,t){p.currentPanel=new p(e,t)}dispose(){for(p.currentPanel=void 0,this._panel.dispose();this._disposables.length;){const e=this._disposables.pop();e&&e.dispose()}}_update(){return s(this,void 0,void 0,(function*(){const e=this._panel.webview;this._panel.webview.html=this._getHtmlForWebview(e),e.onDidReceiveMessage((t=>s(this,void 0,void 0,(function*(){switch(t.type){case"report":{const n=yield a.window.showInputBox({placeHolder:"why are you reporting this user?"});n&&(yield d.mutationNoErr("/report",Object.assign({message:n},t.value)),e.postMessage({command:"report-done",data:t}),a.window.showInformationMessage("Thank you for reporting!"));break}case"set-window-info":{const{displayName:e,flair:n}=t.value;if(this._panel.title=e,n in l.flairMap){const e=a.Uri.parse("https://flair.benawad.com/"+l.flairMap[n]);this._panel.iconPath={light:e,dark:e}}break}case"onInfo":if(!t.value)return;a.window.showInformationMessage(t.value);break;case"onError":if(!t.value)return;a.window.showErrorMessage(t.value);break;case"tokens":yield h.Util.globalState.update(c.accessTokenKey,t.accessToken),yield h.Util.globalState.update(c.refreshTokenKey,t.refreshToken)}}))))}))}_getHtmlForWebview(e){const t=e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"out","compiled/swiper.js")),n=a.Uri.joinPath(this._extensionUri,"media","reset.css"),r=a.Uri.joinPath(this._extensionUri,"media","vscode.css"),o=e.asWebviewUri(n),i=e.asWebviewUri(r),s=e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"out","compiled/swiper.css")),d=u.getNonce();return`<!DOCTYPE html>\n\t\t\t<html lang="en">\n\t\t\t<head>\n\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\x3c!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n        --\x3e\n        <meta http-equiv="Content-Security-Policy" content="default-src ${c.apiBaseUrl}; img-src https: data:; style-src 'unsafe-inline' ${e.cspSource}; script-src 'nonce-${d}';">\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t<link href="${o}" rel="stylesheet">\n\t\t\t\t<link href="${i}" rel="stylesheet">\n        <link href="${s}" rel="stylesheet">\n        <script nonce="${d}">\n            const apiBaseUrl = ${JSON.stringify(c.apiBaseUrl)};\n            const tsvscode = acquireVsCodeApi();\n            let accessToken = ${JSON.stringify(h.Util.getAccessToken())};\n            let refreshToken = ${JSON.stringify(h.Util.getRefreshToken())};\n            ${l.FlairProvider.getJavascriptMapString()}\n        <\/script>\n\t\t\t</head>\n      <body>\n\t\t\t</body>\n\t\t\t\t<script nonce="${d}" src="${t}"><\/script>\n\t\t\t</html>`}}t.SwiperPanel=p,p.viewType="swiper"},102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;const r=n(601);t.Util=class{static getRefreshToken(){return this.globalState.get(r.refreshTokenKey)||""}static getAccessToken(){return this.globalState.get(r.accessTokenKey)||""}static isLoggedIn(){return!!this.globalState.get(r.accessTokenKey)&&!!this.globalState.get(r.refreshTokenKey)}}},190:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewCodeCardPanel=void 0;const a=i(n(549)),c=n(601),l=n(885),u=n(686),d=n(353),h=n(102);class p{constructor(e,t,n){this._disposables=[],this._panel=e,this._extensionUri=t,this._userInfo=n,this._update(),this._panel.onDidDispose((()=>this.dispose()),null,this._disposables)}static createOrShow(e,t){const n=a.window.activeTextEditor?a.window.activeTextEditor.viewColumn:void 0;if(p.currentPanel)return p.currentPanel._panel.reveal(n),p.currentPanel._userInfo=t,void p.currentPanel._update();const r=a.window.createWebviewPanel(p.viewType,"VSinder",n||a.ViewColumn.One,{enableScripts:!0,localResourceRoots:[a.Uri.joinPath(e,"media"),a.Uri.joinPath(e,"out/compiled")]});p.currentPanel=new p(r,e,t)}static kill(){var e;null===(e=p.currentPanel)||void 0===e||e.dispose(),p.currentPanel=void 0}static revive(e,t,n){p.currentPanel=new p(e,t,n)}dispose(){for(p.currentPanel=void 0,this._panel.dispose();this._disposables.length;){const e=this._disposables.pop();e&&e.dispose()}}_update(){return s(this,void 0,void 0,(function*(){const e=this._panel.webview;this._panel.webview.html=this._getHtmlForWebview(e),e.onDidReceiveMessage((t=>s(this,void 0,void 0,(function*(){switch(t.type){case"report":{const n=yield a.window.showInputBox({placeHolder:"why are you reporting this user?"});n&&(yield d.mutationNoErr("/report",Object.assign({message:n},t.value)),e.postMessage({command:"report-done",data:t}),a.window.showInformationMessage("Thank you for reporting!"));break}case"onInfo":if(!t.value)return;a.window.showInformationMessage(t.value);break;case"onError":if(!t.value)return;a.window.showErrorMessage(t.value);break;case"tokens":yield h.Util.globalState.update(c.accessTokenKey,t.accessToken),yield h.Util.globalState.update(c.refreshTokenKey,t.refreshToken)}}))))}))}_getHtmlForWebview(e){const t=e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"out","compiled/view-code-card.js")),n=a.Uri.joinPath(this._extensionUri,"media","reset.css"),r=a.Uri.joinPath(this._extensionUri,"media","vscode.css"),o=e.asWebviewUri(n),i=e.asWebviewUri(r),s=e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"out","compiled/view-code-card.css"));if(this._panel.title=this._userInfo.displayName,this._userInfo.flair in l.flairMap){const e=a.Uri.parse("https://flair.benawad.com/"+l.flairMap[this._userInfo.flair]);this._panel.iconPath={light:e,dark:e}}const d=u.getNonce();return`<!DOCTYPE html>\n\t\t\t<html lang="en">\n\t\t\t<head>\n\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\x3c!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n        --\x3e\n        <meta http-equiv="Content-Security-Policy" content="default-src ${c.apiBaseUrl}; img-src https: data:; style-src 'unsafe-inline' ${e.cspSource}; script-src 'nonce-${d}';">\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t<link href="${o}" rel="stylesheet">\n\t\t\t\t<link href="${i}" rel="stylesheet">\n        <link href="${s}" rel="stylesheet">\n        <script nonce="${d}">\n            const apiBaseUrl = ${JSON.stringify(c.apiBaseUrl)};\n            const tsvscode = acquireVsCodeApi();\n            let accessToken = ${JSON.stringify(h.Util.getAccessToken())};\n            let refreshToken = ${JSON.stringify(h.Util.getRefreshToken())};\n            let userId = ${JSON.stringify(this._userInfo.id)}\n            ${l.FlairProvider.getJavascriptMapString()}\n        <\/script>\n\t\t\t</head>\n      <body>\n\t\t\t</body>\n\t\t\t\t<script nonce="${d}" src="${t}"><\/script>\n\t\t\t</html>`}}t.ViewCodeCardPanel=p,p.viewType="view-code-card"},326:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.authenticate=void 0;const c=a(n(266)),l=i(n(549)),u=n(601),d=n(102);t.authenticate=e=>{const t=c.default();t.listen(54321),l.commands.executeCommand("vscode.open",l.Uri.parse(`${u.apiBaseUrl}/auth/github`)),t.get("/callback/:accessToken/:refreshToken",((n,r)=>s(void 0,void 0,void 0,(function*(){const{accessToken:o,refreshToken:i}=n.params;if(!o||!i)return r.end("ext: something went wrong"),void t.server.close();yield d.Util.globalState.update(u.accessTokenKey,o),yield d.Util.globalState.update(u.refreshTokenKey,i),e({accessToken:o,refreshToken:i}),r.end('\n    <!doctype html>\n    <html lang="en">\n      <head>\n        <meta charset="utf-8">\n        <meta\n          http-equiv="Content-Security-Policy"\n          content="default-src vscode-resource:; form-action vscode-resource:; frame-ancestors vscode-resource:; img-src vscode-resource: https:; script-src \'self\' \'unsafe-inline\' vscode-resource:; style-src \'self\' \'unsafe-inline\' vscode-resource:;"\n        />\n        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n      </head>\n      <body>\n          <h1>Success! You may now close this tab.</h1>\n          <style>\n            html, body {\n              background-color: #1a1a1a;\n              color: #c3c3c3;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              height: 100%;\n              width: 100%;\n              margin: 0;\n            }\n          </style>\n      </body>\n    </html>\n    '),t.server.close()}))))}},601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refreshTokenKey=t.accessTokenKey=t.apiBaseUrl=t._prod_=void 0,t._prod_=!0,t.apiBaseUrl=t._prod_?"https://api.vsinder.com":"http://localhost:3001",t.accessTokenKey="@vsinder/token"+(t._prod_?"":"dev"),t.refreshTokenKey="@vsinder/refresh-token"+(t._prod_?"":"dev")},112:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const a=i(n(549)),c=n(326),l=n(892),u=n(441),d=n(839),h=n(102);t.activate=function(e){h.Util.globalState=e.globalState,d.SnippetStatus.createSnippetStatus();const t=new u.SidebarProvider(e.extensionUri);e.subscriptions.push(a.window.registerWebviewViewProvider("vsinder-sidebar",t)),e.subscriptions.push(a.commands.registerCommand("vsinder.authenticate",(()=>{c.authenticate((()=>{}))}))),e.subscriptions.push(a.commands.registerCommand("vsinder.reloadSidebar",(()=>s(this,void 0,void 0,(function*(){yield a.commands.executeCommand("workbench.action.closeSidebar"),yield a.commands.executeCommand("workbench.view.extension.vsinder-sidebar-view"),setTimeout((()=>{a.commands.executeCommand("workbench.action.webview.openDeveloperTools")}),500)}))))),e.subscriptions.push(a.commands.registerCommand("vsinder.addCodeToProfile",(()=>s(this,void 0,void 0,(function*(){var e;const{activeTextEditor:n}=a.window;if(!n)return void a.window.showErrorMessage("I don't see any code");let r=n.document.getText(n.selection);if(r||(r=n.document.getText()),!r)return void a.window.showErrorMessage("I couldn't get any code");r.length>600&&(r=r.slice(0,600),a.window.showWarningMessage("Only taking the first 600 characters"));const o=n.document.languageId;yield a.commands.executeCommand("workbench.view.extension.vsinder-sidebar-view"),null===(e=t._view)||void 0===e||e.webview.postMessage({command:"new-code-snippet",data:{code:r,language:o in l.languageIdMap?l.languageIdMap[o]:"auto",fontFamily:"Fira Code"}})})))))},t.deactivate=function(){}},686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNonce=void 0,t.getNonce=function(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}},892:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.languageIdMap=void 0,t.languageIdMap={cpp:"c-like",fsharp:"ocaml",html:"htmlmixed",javascriptreact:"jsx",jsonc:"json",less:"css","objective-c":"c-like","objective-cpp":"c-like",perl6:"perl",scss:"sass",shellscript:"shell",typescriptreact:"tsx",xml:"htmlmixed",xsl:"htmlmixed",abap:"text",bat:"text",bibtex:"text","git-commit":"text","git-rebase":"text",ini:"text",makefile:"text",plaintext:"text",jade:"text",razor:"text",shaderlab:"text",tex:"text",clojure:"clojure",coffeescript:"coffeescript",c:"c",csharp:"csharp",css:"css",diff:"diff",dockerfile:"dockerfile",go:"go",groovy:"groovy",handlebars:"handlebars",java:"java",haskell:"haskell",javascript:"javascript",json:"json",latex:"latex",lua:"lua",markdown:"markdown",perl:"perl",php:"php",powershell:"powershell",python:"python",r:"r",ruby:"ruby",rust:"rust",sass:"sass",sql:"sql",swift:"swift",typescript:"typescript",vb:"vb",yaml:"yaml"}},353:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mutation=t.mutationNoErr=void 0;const c=a(n(267)),l=i(n(549)),u=n(601),d=n(102);t.mutationNoErr=(e,n)=>s(void 0,void 0,void 0,(function*(){try{return yield t.mutation(e,n)}catch(e){}})),t.mutation=(e,t)=>s(void 0,void 0,void 0,(function*(){try{const n=yield c.default(u.apiBaseUrl+e,{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json","access-token":d.Util.getAccessToken(),"refresh-token":d.Util.getRefreshToken()}});if(200!==n.status)throw new Error(yield n.text());const r=n.headers.get("access-token"),o=n.headers.get("refresh-token");return r&&o&&(yield d.Util.globalState.update(u.accessTokenKey,r),yield d.Util.globalState.update(u.refreshTokenKey,o)),yield n.json()}catch(e){throw console.log(e),l.window.showErrorMessage(e.message),e}}))},605:e=>{"use strict";e.exports=require("http")},191:e=>{"use strict";e.exports=require("querystring")},549:e=>{"use strict";e.exports=require("vscode")}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(112)})();
//# sourceMappingURL=extension.js.map